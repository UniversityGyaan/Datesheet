<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>University Gyaan - Download Datesheet</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;800&display=swap" rel="stylesheet">

<style>
/* Modern Dark Theme with Floating Glowing Orbs */
body {
    margin: 0;
    font-family: 'Poppins', sans-serif;
    background-color: #0b1120;
    overflow: hidden; 
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    color: white;
}

/* Glowing Background Shapes */
.bg-shape {
    position: absolute;
    border-radius: 50%;
    filter: blur(80px);
    z-index: -1;
    animation: float 8s infinite alternate ease-in-out;
}
.shape1 { width: 350px; height: 350px; background: #ff0055; top: -100px; left: -100px; opacity: 0.6; }
.shape2 { width: 400px; height: 400px; background: #00f2fe; bottom: -150px; right: -100px; opacity: 0.5; }
.shape3 { width: 250px; height: 250px; background: #7b2cbf; top: 40%; left: 50%; opacity: 0.4; }

@keyframes float {
    0% { transform: translateY(0px) scale(1); }
    100% { transform: translateY(30px) scale(1.1); }
}

/* Sleek Premium Card */
.container {
    width: 90%;
    max-width: 420px;
    padding: 40px 30px;
    border-radius: 24px;
    background: rgba(255, 255, 255, 0.03);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    border-top: 1px solid rgba(255, 255, 255, 0.15);
    border-left: 1px solid rgba(255, 255, 255, 0.15);
    box-shadow: 0 25px 50px rgba(0,0,0,0.5);
    text-align: center;
    z-index: 1;
}

/* Bouncing Logo */
.logo {
    width: 100px;
    height: 100px;
    margin-bottom: 20px;
    border-radius: 50%; 
    box-shadow: 0 0 25px rgba(255, 255, 255, 0.2);
    animation: gentleBounce 3s infinite ease-in-out;
    object-fit: cover;
}

@keyframes gentleBounce {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-10px); }
}

h1 {
    color: #ffffff;
    margin: 0 0 5px 0;
    font-size: 28px;
    font-weight: 800;
    text-shadow: 0 2px 10px rgba(0,0,0,0.5);
}

p.subtitle {
    color: #a0aec0;
    font-size: 14px;
    margin-bottom: 30px;
    font-weight: 400;
    line-height: 1.5;
}

.hindi-text {
    font-size: 13px;
    color: #00f2fe;
    opacity: 0.9;
    display: block;
    margin-top: 5px;
}

/* Gamified 3D Buttons */
.btn {
    width: 100%;
    padding: 16px;
    margin-top: 16px;
    border-radius: 16px;
    border: none;
    font-size: 16px;
    font-family: 'Poppins', sans-serif;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s ease;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 12px;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

/* Inactive states */
.whatsapp, .download {
    background: rgba(255, 255, 255, 0.05);
    color: rgba(255, 255, 255, 0.3);
    border: 1px solid rgba(255, 255, 255, 0.1);
    pointer-events: none;
}

/* Active YouTube Button with Pulse Effect */
.youtube.enabled {
    background: linear-gradient(135deg, #ff0000, #b30000);
    color: white;
    box-shadow: 0 6px 0 #800000, 0 15px 20px rgba(255,0,0,0.4);
    animation: pulseRed 2s infinite;
}

/* Active WhatsApp Button */
.whatsapp.enabled {
    background: linear-gradient(135deg, #25D366, #128C7E);
    color: white;
    box-shadow: 0 6px 0 #0d6157, 0 15px 20px rgba(37, 211, 102, 0.4);
    border: none;
    animation: pulseGreen 2s infinite;
}

/* Active Download Button */
.download.enabled {
    background: linear-gradient(135deg, #FFD700, #F39C12);
    color: #0b1120;
    box-shadow: 0 6px 0 #b37400, 0 15px 20px rgba(255, 215, 0, 0.3);
    border: none;
    animation: pulseGold 2s infinite;
}

/* 3D Click Effect */
.btn.enabled:active {
    transform: translateY(6px);
    box-shadow: 0 0px 0 transparent, 0 5px 10px rgba(0,0,0,0.4);
}

.btn i { font-size: 22px; }

/* Pulse Animations */
@keyframes pulseRed { 0% {box-shadow: 0 6px 0 #800000, 0 0 0 0 rgba(255,0,0,0.7);} 70% {box-shadow: 0 6px 0 #800000, 0 0 0 15px rgba(255,0,0,0);} 100% {box-shadow: 0 6px 0 #800000, 0 0 0 0 rgba(255,0,0,0);} }
@keyframes pulseGreen { 0% {box-shadow: 0 6px 0 #0d6157, 0 0 0 0 rgba(37,211,102,0.7);} 70% {box-shadow: 0 6px 0 #0d6157, 0 0 0 15px rgba(37,211,102,0);} 100% {box-shadow: 0 6px 0 #0d6157, 0 0 0 0 rgba(37,211,102,0);} }
@keyframes pulseGold { 0% {box-shadow: 0 6px 0 #b37400, 0 0 0 0 rgba(255,215,0,0.7);} 70% {box-shadow: 0 6px 0 #b37400, 0 0 0 15px rgba(255,215,0,0);} 100% {box-shadow: 0 6px 0 #b37400, 0 0 0 0 rgba(255,215,0,0);} }

/* Glow Progress Bar */
.progress-container {
    width: 100%;
    height: 8px;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 20px;
    margin-top: 30px;
    overflow: hidden;
}

.progress-bar {
    height: 100%;
    width: 0%;
    background: linear-gradient(90deg, #ff0055, #00f2fe);
    border-radius: 20px;
    transition: width 0.6s cubic-bezier(0.4, 0, 0.2, 1);
    box-shadow: 0 0 15px rgba(0, 242, 254, 0.8);
}

.status {
    font-size: 14px;
    margin-top: 18px;
    color: #cbd5e1;
    font-weight: 600;
    min-height: 20px;
}
</style>
</head>

<body>

<div class="bg-shape shape1"></div>
<div class="bg-shape shape2"></div>
<div class="bg-shape shape3"></div>

<div class="container">
    <img src="logo.png" alt="University Gyaan" class="logo" onerror="this.onerror=null; this.src='https://ui-avatars.com/api/?name=University+Gyaan&background=ff0055&color=fff&size=150&font-size=0.4&bold=true';">
    
    <h1>University Gyaan</h1>
    <p class="subtitle">
        Complete steps to unlock datesheet
        <span class="hindi-text">(Datesheet unlock karne ke liye sabhi steps pure karein)</span>
    </p>

    <button class="btn youtube enabled" onclick="openYoutube()" id="ytBtn">
        <i class="fa-brands fa-youtube"></i> Subscribe
    </button>

    <button class="btn whatsapp" id="waBtn" onclick="openWhatsapp()">
        <i class="fa-brands fa-whatsapp"></i> Join Channel
    </button>

    <button class="btn download" id="downloadBtn" onclick="downloadFile()">
        <i class="fa-solid fa-lock" id="lockIcon"></i> Download Datesheet
    </button>

    <div class="progress-container">
        <div class="progress-bar" id="progressBar"></div>
    </div>

    <div class="status" id="statusText">Awaiting Step 1...</div>
</div>

<script>
let ytStart = 0;
let ytDone = false;
let waDone = false;

function openYoutube(){
    ytStart = Date.now();
    window.open("https://www.youtube.com/@University_Gyaan?sub_confirmation=1","_blank");
    // Changed timer text to 3 seconds
    document.getElementById("statusText").innerText = "Checking... Please stay for 3 seconds.";
    
    document.getElementById("ytBtn").style.animation = "none";
}

function openWhatsapp(){
    window.open("https://whatsapp.com/channel/0029Va8mCyHDuMRolLgWPM2S","_blank");
    document.getElementById("statusText").innerText = "Verifying WhatsApp...";
    
    document.getElementById("waBtn").style.animation = "none";

    // Changed WhatsApp wait time to 3 seconds (3000 milliseconds)
    setTimeout(() => {
        waDone = true;
        updateProgress();
    }, 3000); 
}

document.addEventListener("visibilitychange", function(){
    if(document.visibilityState === "visible" && ytStart !== 0 && !ytDone){
        let seconds = (Date.now() - ytStart) / 1000;

        // Changed YouTube check to 3 seconds
        if(seconds >= 3){
            ytDone = true;
            document.getElementById("waBtn").classList.add("enabled");
            
            document.getElementById("ytBtn").innerHTML = '<i class="fa-solid fa-check"></i> Subscribed';
            document.getElementById("ytBtn").style.background = "#333";
            document.getElementById("ytBtn").style.boxShadow = "0 6px 0 #111";
            
            document.getElementById("statusText").innerText = "Step 1 Done! Now join WhatsApp.";
            updateProgress();
        } else {
            document.getElementById("statusText").innerText = "Don't rush! Stay on YouTube a bit longer.";
            ytStart = 0; 
            document.getElementById("ytBtn").style.animation = "pulseRed 2s infinite"; 
        }
    }
});

function updateProgress(){
    let progress = 0;

    if(ytDone) progress = 50;
    if(ytDone && waDone) progress = 100;

    document.getElementById("progressBar").style.width = progress + "%";

    if(progress === 100){
        document.getElementById("downloadBtn").classList.add("enabled");
        
        document.getElementById("waBtn").innerHTML = '<i class="fa-solid fa-check"></i> Joined';
        document.getElementById("waBtn").style.background = "#333";
        document.getElementById("waBtn").style.boxShadow = "0 6px 0 #111";

        const statusEl = document.getElementById("statusText");
        statusEl.innerHTML = "âœ¨ Unlocked! You can download now.";
        statusEl.style.color = "#00f2fe";
        
        // Changing Lock icon to Unlock icon
        const dlBtn = document.getElementById("downloadBtn");
        dlBtn.innerHTML = '<i class="fa-solid fa-lock-open"></i> Download Datesheet';
    }
}

function downloadFile(){
    if(ytDone && waDone){
        window.location.href = "Private Datesheet.pdf"; 
    }
}
</script>

</body>
</html>
